/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Jun 11 20:18
*/
KISSY.add("component/base",function(f,e,d){function b(){var a=f.makeArray(arguments),i=a[a.length-1];a.unshift(this);i.xclass&&(a.pop(),a.push(i.xclass));a=e.create.apply(e,a);i.xclass&&d.setUIConstructorByCssClass(i.xclass,{ui:a,priority:i.priority});a.extend=b;return a}return{UIStore:d,UIBase:e,define:function(){var a=f.makeArray(arguments),i;i=a.shift();return b.apply(i,a)}}},{requires:["./uibase","./uistore"]});
KISSY.add("component",function(f,e,d,b,a,i,g,k){f.mix(e,{Controller:d,Render:b,Container:a,DelegateChildren:i,DecorateChild:k,DecorateChildren:g});return e},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});KISSY.add("component/container",function(f,e,d,b){return e.extend([d,b],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(f,e,d,b,a,i,g){function k(h){return function(p){if(this==p.target){var p=p.newVal,c=this.get("view");c&&c.set(h,p)}}}function j(h){return function(c){var a=this.get("view");return c===g?a&&a.get(h):c}}function m(h,c,a){h.create();var b=h.getContentElement(),c=q(c,h);c.__set("parent",h);c.set("render",b);c.set("elBefore",a);h.get("rendered")?c.render():c.create(g);return c}function l(h,c){var a=h.relatedTarget;return a&&(a===c[0]||c.contains(a))}function q(h,
p){if(!(h instanceof c)){var g;g=h.xclass;p&&!h.prefixCls&&(h.prefixCls=p.get("prefixCls"));h=new (a.getUIConstructorByCssClass(g))(h)}return h}var c=d.define([b.Box],{getCssClassWithPrefix:a.getCssClassWithPrefix,initializer:function(){var h,c,a,g=this.get("listeners"),b=this.getAttrs();for(h in b)b.hasOwnProperty(h)&&(a=b[h],a.view&&(this.on("after"+f.ucfirst(h)+"Change",k(h)),a.getter=j(h)));for(c in g)h=g[c],this.on(c,h.fn||h,h.scope)},createDom:function(){var h;if(!(h=this.get("view"))){var b=
{},i=this.get("xrender");if(i){h=this.getAttrs();for(var d in h)if(h.hasOwnProperty(d)){var f;if(h[d].view&&(f=this.get(d))!==g)b[d]=f}h=new i(b)}else h=0}d=h;f=this.constructor;for(h=[];f&&f!=c;)(b=a.getCssClassByUIConstructor(f))&&h.push(b),f=f.superclass&&f.superclass.constructor;d.__componentClasses=h.join(" ");d.create();f=d.getKeyEventTarget();this.get("focusable")?f.attr("tabIndex",0):f.unselectable(g);this.__set("view",d)},renderUI:function(){var h,c;this.get("view").render();var a=this.get("children");
for(h=0;h<a.length;h++)c=a[h],c=m(this,c),a[h]=c,c.render()},bindUI:function(){var h=this.get("focusable"),c=this.get("handleMouseEvents"),a=this.getKeyEventTarget();if(h)a.on("focus",this.handleFocus,this).on("blur",this.handleBlur,this).on("keydown",this.handleKeydown,this);c&&(a=this.get("el"),a.on("mouseenter",this.handleMouseEnter,this).on("mouseleave",this.handleMouseLeave,this).on("mousedown",this.handleMouseDown,this).on("mouseup",this.handleMouseUp,this).on("dblclick",this.handleDblClick,
this))},_uiSetFocused:function(h){h&&this.getKeyEventTarget()[0].focus()},getContentElement:function(){var h=this.get("view");return h&&h.getContentElement()},getKeyEventTarget:function(){var h=this.get("view");return h&&h.getKeyEventTarget()},addChild:function(h,c){var a=this.get("children"),b;c===g&&(c=a.length);b=a[c]&&a[c].get("el")||null;h=m(this,h,b);a.splice(c,0,h)},removeChild:function(h,c){var a=this.get("children"),b=f.indexOf(h,a);-1!=b&&a.splice(b,1);c&&h.destroy();return h},removeChildren:function(h){var c,
a=[].concat(this.get("children"));for(c=0;c<a.length;c++)this.removeChild(a[c],h);this.__set("children",[])},getChildAt:function(h){return this.get("children")[h]||null},handleDblClick:function(h){if(this.get("disabled"))return!0;this.performActionInternal(h)},handleMouseOver:function(h){var c=this.get("el");if(this.get("disabled"))return!0;l(h,c)||this.handleMouseEnter(h)},handleMouseOut:function(h){var c=this.get("el");if(this.get("disabled"))return!0;l(h,c)||this.handleMouseLeave(h)},handleMouseEnter:function(h){if(this.get("disabled"))return!0;
this.set("highlighted",!!h)},handleMouseLeave:function(h){if(this.get("disabled"))return!0;this.set("active",!1);this.set("highlighted",!h)},handleMouseDown:function(h){var c=1==h.which;if(this.get("disabled"))return!0;c&&(c=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")?(c[0].focus(),this.set("focused",!0)):(c=(c=h.target.nodeName)&&c.toLowerCase(),"input"!=c&&"textarea"!=c&&h.preventDefault()))},handleMouseUp:function(c){if(this.get("disabled"))return!0;
this.get("active")&&1==c.which&&(this.performActionInternal(c),this.set("active",!1))},handleFocus:function(c){this.set("focused",!!c);this.fire("focus")},handleBlur:function(c){this.set("focused",!c);this.fire("blur")},handleKeyEventInternal:function(c){if(c.keyCode==e.KeyCodes.ENTER)return this.performActionInternal(c)},handleKeydown:function(c){if(this.get("disabled"))return!0;this.handleKeyEventInternal(c)&&c.halt()},performActionInternal:function(){},destructor:function(){var c,a=this.get("children");
for(c=0;c<a.length;c++)a[c].destroy();(c=this.get("view"))&&c.destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{view:!0,value:!0},activeable:{value:!0},focused:{view:!0},active:{view:!0},highlighted:{view:!0},children:{value:[]},prefixCls:{view:!0,value:"ks-"},parent:{},view:{},disabled:{view:!0},listeners:{value:{}},xrender:{value:i}}});d.create=q;return c},{requires:["event","./base","./uibase","./uistore","./render"]});
KISSY.add("component/decorateChild",function(f,e){function d(){}f.augment(d,e,{decorateInternal:function(b){this.set("el",b);var a=this.get("decorateChildCls");if(b=b.one("."+this.getCssClassWithPrefix(a)))(a=this.findUIConstructorByNode(b))?this.decorateChildrenInternal(a,b):this.decorateChildren(b)}});return d},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(f,e){function d(){}f.augment(d,{decorateInternal:function(b){this.set("el",b);this.decorateChildren(b)},findUIConstructorByNode:function(b){var b=b.attr("class")||"",a=this.get("prefixCls"),b=b.replace(RegExp("\\b"+a,"ig"),"");return e.getUIConstructorByCssClass(b)},decorateChildrenInternal:function(b,a){this.addChild(new b({srcNode:a,prefixCls:this.get("prefixCls")}))},decorateChildren:function(b){var a=this;b.children().each(function(b){var g=a.findUIConstructorByNode(b);
a.decorateChildrenInternal(g,b)})}});return d},{requires:["./uistore"]});
KISSY.add("component/delegateChildren",function(f){function e(){}function d(b){var a=this.getOwnerControl(b.target);if(a)switch(b.type){case "mousedown":a.handleMouseDown(b);break;case "mouseup":a.handleMouseUp(b);break;case "mouseover":a.handleMouseOver(b);break;case "mouseout":a.handleMouseOut(b);break;case "dblclick":a.handleDblClick(b)}}f.augment(e,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick",d,this)},getOwnerControl:function(b){for(var a=this.get("children"),
i=a.length,g=this.get("el")[0];b&&b!==g;){for(var d=0;d<i;d++)if(a[d].get("el")[0]===b)return a[d];b=b.parentNode}return null}});return e});
KISSY.add("component/render",function(f,e,d,b){return e.define([d.Box.Render],{getComponentCssClassWithState:function(a){var b=this.__componentClasses,a=a||"";return this.getCssClassWithPrefix(b.split(/\s+/).join(a+" ")+a)},getCssClassWithPrefix:b.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},getContentElement:function(){return this.get("contentEl")||this.get("el")},_uiSetHighlighted:function(a){var b=
this.getComponentCssClassWithState("-hover");this.get("el")[a?"addClass":"removeClass"](b)},_uiSetDisabled:function(a){var b=this.getComponentCssClassWithState("-disabled");this.get("el")[a?"addClass":"removeClass"](b).attr("aria-disabled",a);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",a?-1:0)},_uiSetActive:function(a){var b=this.getComponentCssClassWithState("-active");this.get("el")[a?"addClass":"removeClass"](b).attr("aria-pressed",!!a)},_uiSetFocused:function(a){var b=this.get("el"),
g=this.getComponentCssClassWithState("-focused");b[a?"addClass":"removeClass"](g)}},{ATTRS:{prefixCls:{},focusable:{},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./uistore"]});
KISSY.add("component/uibase",function(f,e,d,b,a,i,g,k,j,m,l,q,c,h,p,t,u,v,n,o,s){i.Render=g;q.Render=c;h.Render=p;t.Render=u;o.Render=s;b.Render=a;j.Render=m;f.mix(e,{Align:d,Box:b,Close:i,Constrain:k,ContentBox:j,Drag:l,Loading:q,Mask:h,Position:t,Shim:{Render:v},Resize:n,StdMod:o});return e},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/constrain,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(f,e,d,b){function a(c){var h=c.ownerDocument.body,a=d.css(c,"position");if(!("fixed"==a||"absolute"==a))return"html"==c.nodeName.toLowerCase()?null:c.parentNode;for(c=c.parentNode;c&&c!=h;c=c.parentNode)if(a=d.css(c,"position"),"static"!=a)return c;return null}function i(c){var h,b,g={left:0,right:Infinity,top:0,bottom:Infinity},i;b=c.ownerDocument;h=b.body;for(b=b.documentElement;c=a(c);)if((!e.ie||0!=c.clientWidth)&&c!=h&&c!=b&&"visible"!=d.css(c,"overflow"))i=
d.offset(c),i.left+=c.clientLeft,i.top+=c.clientTop,g.top=Math.max(g.top,i.top),g.right=Math.min(g.right,i.left+c.clientWidth),g.bottom=Math.min(g.bottom,i.top+c.clientHeight),g.left=Math.max(g.left,i.left);c=d.scrollLeft();i=d.scrollTop();g.left=Math.max(g.left,c);g.top=Math.max(g.top,i);h=d.viewportWidth();b=d.viewportHeight();g.right=Math.min(g.right,c+h);g.bottom=Math.min(g.bottom,i+b);return 0<=g.top&&0<=g.left&&g.bottom>g.top&&g.right>g.left?g:null}function g(c,h,a,b){var g,i;g=c.left;i=c.top;
h=l(h,a[0]);c=l(c,a[1]);c=[c.left-h.left,c.top-h.top];return{left:g-c[0]+ +b[0],top:i-c[1]+ +b[1]}}function k(c,a,b){var g=[];f.each(c,function(c){g.push(c.replace(a,function(c){return b[c]}))});return g}function j(){}function m(c){var a,g;f.isWindow(c[0])?(a={left:d.scrollLeft(),top:d.scrollTop()},g=d.viewportWidth(),c=d.viewportHeight()):(a=c.offset(),g=c.outerWidth(),c=c.outerHeight());a.width=g;a.height=c;return a}function l(c,a){var g=a.charAt(0),b=a.charAt(1),i=c.width,d=c.height,f,e;f=c.left;
e=c.top;"c"===g?e+=d/2:"b"===g&&(e+=d);"c"===b?f+=i/2:"r"===b&&(f+=i);return{left:f,top:e}}var q=f.Env.host;j.__getOffsetParent=a;j.__getVisibleRectForElement=i;j.ATTRS={align:{}};j.prototype={_uiSetAlign:function(c){c&&this.align(c.node,c.points,c.offset,c.overflow)},align:function(c,a,d,e){var c=b.one(c||q),d=d&&[].concat(d)||[0,0],e=e||{},j=this.get("el"),l=0,n=i(j[0]),o=m(j),s=m(c),c=g(o,s,a,d),r=f.merge(o,c);if(n&&(e.adjustX||e.adjustY)){if(c.left<n.left||c.left+o.width>n.right)l=1,a=k(a,/[lr]/ig,
{l:"r",r:"l"}),d[0]=-d[0];if(c.top<n.top||c.top+o.height>n.bottom)l=1,a=k(a,/[tb]/ig,{t:"b",b:"t"}),d[1]=-d[1];l&&(c=g(o,s,a,d),f.mix(r,c));a={};a.adjustX=e.adjustX&&(c.left<n.left||c.left+o.width>n.right);a.adjustY=e.adjustY&&(c.top<n.top||c.top+o.height>n.bottom);if(a.adjustX||a.adjustY)e=f.clone(c),l={width:o.width,height:o.height},a.adjustX&&e.left<n.left&&(e.left=n.left),a.resizeWidth&&e.left>=n.left&&e.left+l.width>n.right&&(l.width-=e.left+l.width-n.right),a.adjustX&&e.left+l.width>n.right&&
(e.left=Math.max(n.right-l.width,n.left)),a.adjustY&&e.top<n.top&&(e.top=n.top),a.resizeHeight&&e.top>=n.top&&e.top+l.height>n.bottom&&(l.height-=e.top+l.height-n.bottom),a.adjustY&&e.top+l.height>n.bottom&&(e.top=Math.max(n.bottom-l.height,n.top)),r=f.mix(e,l)}r.left!=o.left&&this.set("x",r.left);r.top!=o.top&&this.set("y",r.top);r.width!=o.width&&j.width(j.width()+r.width-o.width);r.height!=o.height&&j.height(j.height()+r.height-o.height);return this},center:function(c){this.set("align",{node:c,
points:["cc","cc"],offset:[0,0]});return this}};return j},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(f,e,d,b){function a(a){e.apply(this,arguments);for(var c=a,g=this.constructor;g;){if(c&&c[j]&&g.HTML_PARSER&&(c[j]=d.one(c[j]))){var b=c[j],k=g.HTML_PARSER,l=void 0,m=void 0;for(l in k)k.hasOwnProperty(l)&&(m=k[l],f.isFunction(m)?this.__set(l,m.call(this,b)):f.isString(m)?this.__set(l,b.one(m)):f.isArray(m)&&m[0]&&this.__set(l,b.all(m[0])))}g=g.superclass&&g.superclass.constructor}i(this,"initializer","constructor");a&&a.autoRender&&this.render()}function i(a,
c,g){for(var b=a.constructor,d=[],i,f,e,j;b;){j=[];if(e=b.__ks_exts)for(var k=0;k<e.length;k++)if(i=e[k])"constructor"!=g&&(i=i.prototype.hasOwnProperty(g)?i.prototype[g]:null),i&&j.push(i);b.prototype.hasOwnProperty(c)&&(f=b.prototype[c])&&j.push(f);j.length&&d.push.apply(d,j.reverse());b=b.superclass&&b.superclass.constructor}for(k=d.length-1;0<=k;k--)d[k]&&d[k].call(a)}function g(a){var c=a.getAttrs(),g,b;for(g in c)c.hasOwnProperty(g)&&(b=k+m(g),a[b]&&function(c,g){a.on("after"+m(c)+"Change",
function(c){if(c.target===a)a[g](c.newVal,c)})}(g,b))}var k="_uiSet",j="srcNode",m=f.ucfirst,l=f.noop;a.HTML_PARSER={};a.ATTRS={rendered:{value:!1},created:{value:!1}};f.extend(a,e,{create:function(){this.get("created")||(this.fire("beforeCreateDom"),i(this,"createDom","__createDom"),this.__set("created",!0),this.fire("afterCreateDom"));return this},render:function(){if(!this.get("rendered")){this.create(b);this.fire("beforeRenderUI");i(this,"renderUI","__renderUI");this.fire("afterRenderUI");this.fire("beforeBindUI");
g(this);i(this,"bindUI","__bindUI");this.fire("afterBindUI");this.fire("beforeSyncUI");var a,c,d=this.getAttrs(),f;for(f in d)d.hasOwnProperty(f)&&(c=this[k+m(f)])&&!1!==d[f].sync&&(a=this.get(f))!==b&&c.call(this,a);i(this,"syncUI","__syncUI");this.fire("afterSyncUI");this.__set("rendered",!0)}return this},createDom:l,renderUI:l,bindUI:l,syncUI:l,destroy:function(){for(var a=this.constructor,c,g,b;a;){a.prototype.hasOwnProperty("destructor")&&a.prototype.destructor.apply(this);if(c=a.__ks_exts)for(b=
c.length-1;0<=b;b--)(g=c[b]&&c[b].prototype.__destructor)&&g.apply(this);a=a.superclass&&a.superclass.constructor}this.fire("destroy");this.detach();return this}},{create:function(g,c,b,d){function i(){a.apply(this,arguments)}var e=f.makeArray(arguments);f.isArray(g)&&(d=b,b=c,c=g,g=a);g=g||a;f.isObject(c)&&(d=b,b=c,c=[]);f.isString(e[e.length-1]);f.extend(i,g,b,d);if(c){i.__ks_exts=c;var j={},e=c.concat(i);f.each(e,function(c){c&&f.each(["ATTRS","HTML_PARSER"],function(a){if(c[a]){j[a]=j[a]||{};
f.mix(j[a],c[a],{deep:true})}})});f.each(j,function(c,a){i[a]=c});var k={};f.each(e,function(c){if(c){var c=c.prototype,a;for(a in c)c.hasOwnProperty(a)&&(k[a]=c[a])}});f.each(k,function(c,a){i.prototype[a]=c})}return i}});return a},{requires:["base","node"]});
KISSY.add("component/uibase/box",function(f){function e(){}e.ATTRS={html:{view:!0},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};e.HTML_PARSER={el:function(d){this.decorateInternal&&this.decorateInternal(f.one(d));return d}};e.prototype={_uiSetVisible:function(d){this.fire(d?"show":"hide")},show:function(){var d;this.get("rendered")?this.set("visible",
!0):(this.__set("visible",!0),(d=this.get("view"))&&d.set("visible",!0),this.render());return this},hide:function(){this.set("visible",!1);return this}};return e});
KISSY.add("component/uibase/boxrender",function(f,e){function d(){}function b(a,b,d,i,f,e,c){b=b||{};c=c||"";"string"!==typeof c&&(c="");d&&(b.width="number"==typeof d?d+"px":d);i&&(b.height="number"==typeof i?i+"px":i);var d="",h;for(h in b)b.hasOwnProperty(h)&&(d+=h+":"+b[h]+";");var b="",p;for(p in e)e.hasOwnProperty(p)&&(b+=" "+p+"='"+e[p]+"' ");return"<"+f+(d?" style='"+d+"' ":"")+b+(a?" class='"+a+"' ":"")+">"+c+"</"+f+">"}var a=f.all,i=f.Env.host.document;d.ATTRS={el:{setter:function(b){return a(b)}},
elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},html:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};d.construct=b;d.HTML_PARSER={html:function(a){return a.html()}};d.prototype={__renderUI:function(){if(this.__boxRenderNew){var a=this.get("render"),b=this.get("el"),d=this.get("elBefore");d?b.insertBefore(d):a?b.appendTo(a):b.appendTo(i.body)}},__createDom:function(){var a=this.get("elCls"),d=this.get("elStyle"),i=this.get("width"),
f=this.get("height"),l=this.get("html"),q=this.get("elAttrs"),c=this.get("el");c?(a&&c.addClass(a),d&&c.css(d),void 0!==i&&c.width(i),void 0!==f&&c.height(f),q&&c.attr(q)):(this.__boxRenderNew=!0,c=new e(b(a,d,i,f,this.get("elTagName"),q,l)),this.__set("el",c))},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},_uiSetElStyle:function(a){this.get("el").css(a)},_uiSetWidth:function(a){this.get("el").width(a)},_uiSetHeight:function(a){this.get("el").height(a)},
_uiSetHtml:function(a){this.get("el").html(a)},_uiSetVisible:function(a){var b=this.get("el");"visibility"==this.get("visibleMode")?b.css("visibility",a?"visible":"hidden"):b.css("display",a?"":"none")},__destructor:function(){var a=this.get("el");a&&a.remove()}};return d},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function f(){}f.ATTRS={closable:{value:!0,view:!0},closeBtn:{view:!0},closeAction:{value:"hide"}};var e={hide:"hide",destroy:"destroy"};f.prototype={_uiSetClosable:function(d){var b=this;d&&!b.__bindCloseEvent&&(b.__bindCloseEvent=1,b.get("closeBtn").on("click",function(a){b[e[b.get("closeAction")]||"hide"]();a.preventDefault()}))},__destructor:function(){var d=this.get("closeAction");d&&d.detach()}};return f});
KISSY.add("component/uibase/closerender",function(f,e){function d(){}d.ATTRS={closable:{},closeBtn:{}};d.HTML_PARSER={closeBtn:function(b){return b.one(".ks-ext-close")}};d.prototype={_uiSetClosable:function(b){var a=this.get("closeBtn");b?(a||this.__set("closeBtn",a=new e("<a tabindex='0' href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")),a.appendTo(this.get("el"),void 0)):a&&a.remove()}};return d},{requires:["node"]});
KISSY.add("component/uibase/constrain",function(f,e,d){function b(){}function a(a){var b=null;if(!a)return b;var k=this.get("el");!0!==a?(a=d.one(a),b=a.offset(),f.mix(b,{maxLeft:b.left+a.outerWidth()-k.outerWidth(),maxTop:b.top+a.outerHeight()-k.outerHeight()})):(b={left:e.scrollLeft(),top:e.scrollTop()},f.mix(b,{maxLeft:b.left+e.viewportWidth()-k.outerWidth(),maxTop:b.top+e.viewportHeight()-k.outerHeight()}));return b}b.ATTRS={constrain:{value:!1}};b.prototype={__renderUI:function(){var b=this,
d=b.getAttrs(),f=d.x,d=d.y,e=f.setter,m=d.setter;f.setter=function(d){var g=e&&e.call(b,d);void 0===g&&(g=d);if(!b.get("constrain"))return g;d=a.call(b,b.get("constrain"));return Math.min(Math.max(g,d.left),d.maxLeft)};d.setter=function(d){var g=m&&m.call(b,d);void 0===g&&(g=d);if(!b.get("constrain"))return g;d=a.call(b,b.get("constrain"));return Math.min(Math.max(g,d.top),d.maxTop)};b.addAttr("x",f);b.addAttr("y",d)}};return b},{requires:["dom","node"]});
KISSY.add("component/uibase/contentbox",function(){function f(){}f.ATTRS={content:{view:!0,sync:!1},contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return f});
KISSY.add("component/uibase/contentboxrender",function(f,e,d){function b(){}b.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"},content:{sync:!1}};b.HTML_PARSER={content:function(a){return a[0].innerHTML}};var a=d.construct;b.prototype={__renderUI:function(){},__createDom:function(){var b,d=this.get("content"),k=this.get("el");b="";var j=f.makeArray(k[0].childNodes);j.length&&(b=k[0].innerHTML);d==b&&(d="");b=new e(a("ks-contentbox "+(this.get("contentElCls")||
""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),d));b.appendTo(k);this.__set("contentEl",b);if(d)"string"!==typeof d&&b.append(d);else{d=0;for(k=j.length;d<k;d++)b.append(j[d])}},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)},_uiSetContent:function(a){"string"==typeof a?this.get("contentEl").html(a):this.get("contentEl").empty().append(a)}};
return b},{requires:["node","./boxrender"]});
KISSY.add("component/uibase/drag",function(f){function e(){}function d(b){this.set("xy",[b.left,b.top])}e.ATTRS={handlers:{value:[]},draggable:{value:!0}};e.prototype={_uiSetHandlers:function(b){var a;b&&0<b.length&&(a=this.__drag)&&a.set("handlers",b)},__bindUI:function(){var b=f.require("dd")||{},a=b.Draggable,e=this,g=e.get("draggable"),k=e.get("el");if(g&&a){!0===g&&(g={});a=e.__drag=new a({node:k,move:g.proxy});if(g.proxy){g.proxy.moveOnEnd=!1;a.on("dragend",function(){var a=j.get("proxyNode").offset();
k.css("visibility","");e.set("x",a.left);e.set("y",a.top)});var j=e.__proxy=new b.Proxy(g.proxy);j.attachDrag(a)}else a.on("drag",d,e);g.scroll&&(e.__scroll=new b.Scroll(g.scroll)).attachDrag(a)}},_uiSetDraggable:function(b){var a=this.__drag;a&&a.set("disabled",!b)},__destructor:function(){var b=this.__proxy,a=this.__scroll,d=this.__drag;d&&d.destroy();a&&a.destroy();b&&b.destroy()}};return e});
KISSY.add("component/uibase/loading",function(){function f(){}f.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return f});
KISSY.add("component/uibase/loadingrender",function(f,e){function d(){}d.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new e("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var b=this._loadingExtEl;b&&b.hide()}};return d},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function f(){}f.ATTRS={mask:{value:!1},maskNode:{view:!0},maskShared:{value:!0,view:!0}};f.prototype={__bindUI:function(){var e=this.get("view"),d=e._maskExtShow,b=e._maskExtHide;this.get("mask")&&(this.on("show",d,e),this.on("hide",b,e))}};return f},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(f,e,d){function b(a){a=k("<div  style='width:"+(g?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(g?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(g?"absolute":"fixed")+";' class='"+a+"'>"+(g?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
a.unselectable();a.on("mousedown",function(a){a.preventDefault()});return a}function a(){}var i={},g=6===e.ie,k=d.all;a.prototype={_maskExtShow:function(){var a=this.get("prefixCls")+"ext-mask",d=i[a],g=this.get("maskShared"),e=this.get("maskNode");e||(g?d?e=d.node:(e=b(a),d=i[a]={num:0,node:e}):e=b(a),this.__set("maskNode",e));e.css("z-index",this.get("zIndex")-1);g&&d.num++;(!g||1==d.num)&&e.show()},_maskExtHide:function(){var a=this.get("prefixCls")+"ext-mask",a=i[a],b=this.get("maskShared"),d=
this.get("maskNode");b&&a?(a.num=Math.max(a.num-1,0),0==a.num&&d.hide()):d.hide()},__destructor:function(){var a=this.get("maskShared"),b=this.get("maskNode");this.get("mask")&&(a?this.get("visible")&&this._maskExtHide():b.remove())}};return a},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(f){function e(){}e.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(d){var b=f.makeArray(d);b.length&&(b[0]&&this.set("x",b[0]),b[1]&&this.set("y",b[1]));return d},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};e.prototype={move:function(d,b){f.isArray(d)&&(b=d[1],d=d[0]);this.set("xy",[d,b]);return this}};return e});
KISSY.add("component/uibase/positionrender",function(){function f(){}f.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};f.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(e){this.get("el").css("z-index",e)},_uiSetX:function(e){this.get("el").offset({left:e})},_uiSetY:function(e){this.get("el").offset({top:e})}};return f});
KISSY.add("component/uibase/resize",function(f){function e(){}e.ATTRS={resize:{value:{}}};e.prototype={__destructor:function(){var d=this.resizer;d&&d.destroy()},_uiSetResize:function(d){var b=f.require("resizable");this.resizer&&this.resizer.destroy();b&&d&&(d.node=this.get("el"),this.resizer=new b(d))}};return e});
KISSY.add("component/uibase/shimrender",function(){function f(){}f.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return f});
KISSY.add("component/uibase/stdmod",function(){function f(){}f.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return f});
KISSY.add("component/uibase/stdmodrender",function(f,e){function d(){}function b(a,b){var d=a.get("contentEl"),m=a.get(b+"Style"),l=a.get(b+"Content"),q=f.isString(l),c=a.get(b);if(c)m&&c.css(m);else{c="";if(m)for(var h in m)m.hasOwnProperty(h)&&(c+=h+":"+m[h]+";");m=c;c=new e("<div class='"+i+b+"' "+(m?"style='"+m+"'":"")+" >"+(q?l:"")+"</div>");q||c.append(l);c.appendTo(d);a.__set(b,c)}}function a(a,b,d){b=a.get(b);f.isString(d)?b.html(d):b.html("").append(d)}var i="ks-stdmod-";d.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};d.HTML_PARSER={header:function(a){return a.one("."+i+"header")},body:function(a){return a.one("."+i+"body")},footer:function(a){return a.one("."+i+"footer")}};d.prototype={__createDom:function(){b(this,"header");b(this,"body");b(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},
_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(b){a(this,"body",b)},_uiSetHeaderContent:function(b){a(this,"header",b)},_uiSetFooterContent:function(b){a(this,"footer",b)}};return d},{requires:["node"]});
KISSY.add("component/uistore",function(f){function e(a){for(var a=f.trim(a).split(/\s+/),b=0;b<a.length;b++)a[b]&&(a[b]=this.get("prefixCls")+a[b]);return a.join(" ")}var d={},b={getCssClassWithPrefix:e,getCssClassByUIConstructor:function(a){for(var b in d)if(d[b].ui==a)return b;return 0},getUIConstructorByCssClass:function(a){for(var a=a.split(/\s+/),b=-1,e,f=null,j=0;j<a.length;j++){var m=d[a[j]];if(m&&(e=m.priority)>b)b=e,f=m.ui}return f},setUIConstructorByCssClass:function(a,b){d[a]=b}};b.getCssClassWithPrefix=
e;return b});
